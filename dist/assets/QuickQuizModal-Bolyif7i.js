import{a as e,j as t}from"./vendor-react-DkY5wy_m.js";import{a as r}from"./index-_HdOInKx.js";import"./vendor-CimuxmzX.js";import"./vendor-markdown-CUtcwKjt.js";import"./vendor-react-dom-D9MoHZUj.js";import"./content-gic-thwEcWs7.js";import"./content-impression-DXBt_6OM.js";import"./content-gypsum-BiKxCYUT.js";import"./content-composite-TJ9nDpJr.js";import"./content-adhesion-Cn4bavKK.js";import"./content-wax-BDxVPrGY.js";import"./content-metals-D-Ap74sk.js";import"./content-investment-BmTIz0j7.js";import"./content-casting-qFCp4nAV.js";import"./content-cements-BGuPplC7.js";import"./content-amalgam-BEu4a1oj.js";import"./content-ceramics-BD3nGYw3.js";import"./content-properties-BHcOlrks.js";import"./content-denture-B8gJ77JC.js";import"./content-embryology-Czmh6K7E.js";const s=({subject:s,stream:n,onClose:a,onUpdateStats:l,stats:o={correct:0,incorrect:0}})=>{const[i,d]=e.useState(null),[c,x]=e.useState(!0),[m,b]=e.useState(null),[h,u]=e.useState(!1),g=async()=>{x(!0),b(null),u(!1);try{const e=await r(s,1,n,void 0,"Challenge");e.length>0&&d(e[0])}catch(e){}finally{x(!1)}};e.useEffect(()=>{g()},[]);if(c)return t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-300",children:t.jsx("div",{className:"glass-panel p-8 rounded-3xl max-w-2xl w-full mx-4 bg-white/90 dark:bg-slate-800/90",children:t.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mb-4"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading quick quiz..."})]})})});if(!i)return t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-300",children:t.jsx("div",{className:"glass-panel p-8 rounded-3xl max-w-2xl w-full mx-4 bg-white/90 dark:bg-slate-800/90",children:t.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"No questions available"}),t.jsx("button",{onClick:a,className:"px-6 py-2 bg-cyan-600 text-white rounded-xl hover:bg-cyan-500",children:"Close"})]})})});const p=m===i.correctAnswerIndex,j=o.correct+o.incorrect,f=j>0?Math.round(o.correct/j*100):0;return t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-300 p-4",children:t.jsxs("div",{className:"glass-panel p-8 rounded-3xl max-w-3xl w-full bg-white/90 dark:bg-slate-800/90 max-h-[90vh] overflow-y-auto animate-in zoom-in-95 duration-300",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:["ðŸŽ¯ Quick Quiz: ",s]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"px-3 py-1 bg-yellow-100 dark:bg-yellow-500/20 text-yellow-700 dark:text-yellow-400 rounded-full font-bold flex items-center gap-1",children:[t.jsx("span",{className:"text-yellow-500",children:"âš¡"})," Challenge Mode"]}),t.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Accuracy: ",t.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:[f,"%"]})," (",o.correct,"/",j,")"]})]})]}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:t.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"mb-6",children:t.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white leading-relaxed",children:i.question})}),t.jsx("div",{className:"space-y-3 mb-6",children:i.options.map((e,r)=>{const s=r===i.correctAnswerIndex,n=m===r;let a="border-slate-200 dark:border-white/10 hover:border-cyan-300 dark:hover:border-cyan-500/30";return h?a=s?"border-green-500 bg-green-50 dark:bg-green-900/20 ring-2 ring-green-500":n?"border-red-500 bg-red-50 dark:bg-red-900/20 ring-2 ring-red-500":"border-slate-200 dark:border-white/10 opacity-50":n&&(a="border-cyan-500 bg-cyan-50 dark:bg-cyan-900/20 ring-2 ring-cyan-500"),t.jsx("button",{onClick:()=>!h&&b(r),disabled:h,className:`w-full text-left p-4 rounded-xl border-2 transition-all ${a} ${h?"cursor-default":"cursor-pointer"}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-sm font-bold "+(h&&s?"bg-green-500 text-white":n?"bg-cyan-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300"),children:String.fromCharCode(65+r)}),t.jsx("span",{className:"text-slate-900 dark:text-white",children:e}),h&&s&&t.jsx("svg",{className:"w-5 h-5 text-green-500 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})},r)})}),h&&t.jsxs("div",{className:"p-4 rounded-xl mb-6 "+(p?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-500/30":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-500/30"),children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx("span",{className:"font-bold "+(p?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:p?"âœ“ Correct!":"âœ— Incorrect"})}),t.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:i.explanation})]}),t.jsx("div",{className:"flex gap-3",children:h?t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>{g()},className:"flex-1 py-3 rounded-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-500 hover:to-pink-500 shadow-lg flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Roll Another"]}),t.jsx("button",{onClick:a,className:"px-6 py-3 rounded-xl font-bold bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-white hover:bg-slate-300 dark:hover:bg-slate-600",children:"Done"})]}):t.jsx("button",{onClick:()=>{if(null===m||!i)return;u(!0);const e=m===i.correctAnswerIndex;l(s,e)},disabled:null===m,className:"flex-1 py-3 rounded-xl font-bold transition-all "+(null===m?"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed":"bg-cyan-600 text-white hover:bg-cyan-500 shadow-lg"),children:"Check Answer"})})]})})};export{s as default};
