import{p as e,e as t,f as n,s as r,g as i,n as o,h as s,i as a,j as c,l,k as u,v as f,E as d,m as h}from"./vendor-CimuxmzX.js";const p={}.hasOwnProperty;function m(l,u,f){return"string"!=typeof u&&(f=u,u=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:f(fe),autolinkProtocol:O,autolinkEmail:O,atxHeading:f(ae),blockQuote:f(ne),characterEscape:O,characterReference:O,codeFenced:f(re),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:f(re,d),codeText:f(ie,d),codeTextData:O,data:O,codeFlowValue:O,definition:f(oe),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:f(se),hardBreakEscape:f(ce),hardBreakTrailing:f(ce),htmlFlow:f(le,d),htmlFlowData:O,htmlText:f(le,d),htmlTextData:O,image:f(ue),label:d,link:f(fe),listItem:f(he),listItemValue:w,listOrdered:f(de,y),listUnordered:f(de),paragraph:f(pe),reference:J,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:f(ae),strong:f(me),thematicBreak:f(ke)},exit:{atxHeading:m(),atxHeadingSequence:z,autolink:m(),autolinkEmail:te,autolinkProtocol:ee,blockQuote:m(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:Y,characterReference:Z,codeFenced:m(T),codeFencedFence:I,codeFencedFenceInfo:S,codeFencedFenceMeta:C,codeFlowValue:D,codeIndented:m(E),codeText:m(j),codeTextData:D,data:D,definition:m(),definitionDestinationString:R,definitionLabelString:F,definitionTitleString:L,emphasis:m(),hardBreakEscape:m(H),hardBreakTrailing:m(H),htmlFlow:m($),htmlFlowData:D,htmlText:m(_),htmlTextData:D,image:m(U),label:q,labelText:V,lineEnding:M,link:m(Q),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:K,resourceDestinationString:N,resourceTitleString:W,resource:G,setextHeading:m(B),setextHeadingLineSequence:A,setextHeadingText:P,strong:m(),thematicBreak:m()}};k(t,(e||{}).mdastExtensions||[]);const n={};return l;function l(e){let r={type:"root",children:[]};const i={stack:[r],tokenStack:[],config:t,enter:h,exit:v,buffer:d,resume:x,data:n},o=[];let s=-1;for(;++s<e.length;)if("listOrdered"===e[s][1].type||"listUnordered"===e[s][1].type)if("enter"===e[s][0])o.push(s);else{s=u(e,o.pop(),s)}for(s=-1;++s<e.length;){const n=t[e[s][0]];p.call(n,e[s][1].type)&&n[e[s][1].type].call(Object.assign({sliceSerialize:e[s][2].sliceSerialize},i),e[s][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||b).call(i,void 0,e[0])}for(r.position={start:g(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:g(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},s=-1;++s<t.transforms.length;)r=t.transforms[s](r)||r;return r}function u(e,t,n){let r,i,o,s,a=t-1,c=-1,l=!1;for(;++a<=n;){const t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?c++:c--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||s||c||o||(o=a),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!c&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===c&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let s=a;for(i=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",l=!0),t[1].type="lineEnding",i=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||a,0,["exit",r,t[2]]),a++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(a,0,["enter",i,t[2]]),a++,n++,o=void 0,s=!0}}}return e[t][1]._spread=l,n}function f(e,t){return n;function n(n){h.call(this,e(n),n),t&&t.call(this,n)}}function d(){this.stack.push({type:"fragment",children:[]})}function h(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:g(t.start),end:void 0}}function m(e){return t;function t(t){e&&e.call(this,t),v.call(this,t)}}function v(e,t){const n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+r({start:e.start,end:e.end})+"): itâ€™s not open");if(i[0].type!==e.type)if(t)t.call(this,e,i[0]);else{(i[1]||b).call(this,e,i[0])}n.position.end=g(e.end)}function x(){return i(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function w(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function S(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function C(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function F(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=o(this.sliceSerialize(e)).toLowerCase()}function L(){const e=this.resume();this.stack[this.stack.length-1].title=e}function R(){const e=this.resume();this.stack[this.stack.length-1].url=e}function z(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function A(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function O(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ge(),n.position={start:g(e.start),end:void 0},t.push(n)),this.stack.push(n)}function D(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=g(e.end)}function M(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=g(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(O.call(this,e),D.call(this,e))}function H(){this.data.atHardBreak=!0}function $(){const e=this.resume();this.stack[this.stack.length-1].value=e}function _(){const e=this.resume();this.stack[this.stack.length-1].value=e}function j(){const e=this.resume();this.stack[this.stack.length-1].value=e}function Q(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function U(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function V(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=s(t),n.identifier=o(t).toLowerCase()}function q(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function N(){const e=this.resume();this.stack[this.stack.length-1].url=e}function W(){const e=this.resume();this.stack[this.stack.length-1].title=e}function G(){this.data.inReference=void 0}function J(){this.data.referenceType="collapsed"}function K(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=o(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function X(e){this.data.characterReferenceType=e.type}function Y(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=c(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=a(t)}this.stack[this.stack.length-1].value+=r}function Z(e){this.stack.pop().position.end=g(e.end)}function ee(e){D.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function te(e){D.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function ne(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function se(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function le(){return{type:"html",value:""}}function ue(){return{type:"image",title:null,url:"",alt:null}}function fe(){return{type:"link",title:null,url:"",children:[]}}function de(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function he(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function pe(){return{type:"paragraph",children:[]}}function me(){return{type:"strong",children:[]}}function ge(){return{type:"text",value:""}}function ke(){return{type:"thematicBreak"}}}(f)(e(t(f).document().write(n()(l,u,!0))))}function g(e){return{line:e.line,column:e.column,offset:e.offset}}function k(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?k(e,r):v(e,r)}}function v(e,t){let n;for(n in t)if(p.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function b(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+r({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+r({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+r({start:t.start,end:t.end})+") is still open")}function x(e){return e.length}function y(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||x,o=[],s=[],a=[],c=[];let l=0,u=-1;for(;++u<e.length;){const t=[],r=[];let o=-1;for(e[u].length>l&&(l=e[u].length);++o<e[u].length;){const s=w(e[u][o]);if(!1!==n.alignDelimiters){const e=i(s);r[o]=e,(void 0===c[o]||e>c[o])&&(c[o]=e)}t.push(s)}s[u]=t,a[u]=r}let f=-1;if("object"==typeof r&&"length"in r)for(;++f<l;)o[f]=S(r[f]);else{const e=S(r);for(;++f<l;)o[f]=e}f=-1;const d=[],h=[];for(;++f<l;){const e=o[f];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let i=!1===n.alignDelimiters?1:Math.max(1,c[f]-t.length-r.length);const s=t+"-".repeat(i)+r;!1!==n.alignDelimiters&&(i=t.length+i+r.length,i>c[f]&&(c[f]=i),h[f]=i),d[f]=s}s.splice(1,0,d),a.splice(1,0,h),u=-1;const p=[];for(;++u<s.length;){const e=s[u],t=a[u];f=-1;const r=[];for(;++f<l;){const i=e[f]||"";let s="",a="";if(!1!==n.alignDelimiters){const e=c[f]-(t[f]||0),n=o[f];114===n?s=" ".repeat(e):99===n?e%2?(s=" ".repeat(e/2+.5),a=" ".repeat(e/2-.5)):(s=" ".repeat(e/2),a=s):a=" ".repeat(e)}!1===n.delimiterStart||f||r.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===i||!1===n.delimiterStart&&!f||r.push(" "),!1!==n.alignDelimiters&&r.push(s),r.push(i),!1!==n.alignDelimiters&&r.push(a),!1!==n.padding&&r.push(" "),!1===n.delimiterEnd&&f===l-1||r.push("|")}p.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return p.join("\n")}function w(e){return null==e?"":String(e)}function S(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function C(e,t,n){return">"+(n?"":" ")+e}function I(e,t){return T(e,t.inConstruct,!0)&&!T(e,t.notInConstruct,!1)}function T(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function E(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&I(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function F(e,t,n){return(n?"":"    ")+e}function L(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function R(e){return"&#x"+e.toString(16).toUpperCase()+";"}function z(e,t,n){const r=u(e),i=u(t);return void 0===r?void 0===i?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function P(e,t,n,r){const i=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),o=n.enter("emphasis"),s=n.createTracker(r),a=s.move(i);let c=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const l=c.charCodeAt(0),u=z(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=R(l)+c.slice(1));const f=c.charCodeAt(c.length-1),d=z(r.after.charCodeAt(0),f,i);d.inside&&(c=c.slice(0,-1)+R(f));const h=s.move(i);return o(),n.attentionEncodeSurroundingInfo={after:d.outside,before:u.outside},a+c+h}function A(e){return e.value||""}function B(e,t,n,r){const i=L(n),o='"'===i?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const c=n.createTracker(r);let l=c.move("![");return l+=c.move(n.safe(e.alt,{before:l,after:"]",...c.current()})),l+=c.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),l+=c.move("<"),l+=c.move(n.safe(e.url,{before:l,after:">",...c.current()})),l+=c.move(">")):(a=n.enter("destinationRaw"),l+=c.move(n.safe(e.url,{before:l,after:e.title?" ":")",...c.current()}))),a(),e.title&&(a=n.enter(`title${o}`),l+=c.move(" "+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),a()),l+=c.move(")"),s(),l}function O(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let c=a.move("![");const l=n.safe(e.alt,{before:c,after:"]",...a.current()});c+=a.move(l+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...a.current()});return s(),n.stack=u,o(),"full"!==i&&l&&l===f?"shortcut"===i?c=c.slice(0,-1):c+=a.move("]"):c+=a.move(f+"]"),c}function D(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const e=n.unsafe[o],t=n.compilePattern(e);let i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(i.index+1)}}return i+r+i}function M(e,t){const n=i(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function H(e,t,n,r){const i=L(n),o='"'===i?"Quote":"Apostrophe",s=n.createTracker(r);let a,c;if(M(e,n)){const t=n.stack;n.stack=[],a=n.enter("autolink");let r=s.move("<");return r+=s.move(n.containerPhrasing(e,{before:r,after:">",...s.current()})),r+=s.move(">"),a(),n.stack=t,r}a=n.enter("link"),c=n.enter("label");let l=s.move("[");return l+=s.move(n.containerPhrasing(e,{before:l,after:"](",...s.current()})),l+=s.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),l+=s.move("<"),l+=s.move(n.safe(e.url,{before:l,after:">",...s.current()})),l+=s.move(">")):(c=n.enter("destinationRaw"),l+=s.move(n.safe(e.url,{before:l,after:e.title?" ":")",...s.current()}))),c(),e.title&&(c=n.enter(`title${o}`),l+=s.move(" "+i),l+=s.move(n.safe(e.title,{before:l,after:i,...s.current()})),l+=s.move(i),c()),l+=s.move(")"),a(),l}function $(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let c=a.move("[");const l=n.containerPhrasing(e,{before:c,after:"]",...a.current()});c+=a.move(l+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...a.current()});return s(),n.stack=u,o(),"full"!==i&&l&&l===f?"shortcut"===i?c=c.slice(0,-1):c+=a.move("]"):c+=a.move(f+"]"),c}function _(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function j(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Q(e,t,n,r){const i=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),o=n.enter("strong"),s=n.createTracker(r),a=s.move(i+i);let c=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const l=c.charCodeAt(0),u=z(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=R(l)+c.slice(1));const f=c.charCodeAt(c.length-1),d=z(r.after.charCodeAt(0),f,i);d.inside&&(c=c.slice(0,-1)+R(f));const h=s.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:d.outside,before:u.outside},a+c+h}P.peek=function(e,t,n){return n.options.emphasis||"*"},A.peek=function(){return"<"},B.peek=function(){return"!"},O.peek=function(){return"!"},D.peek=function(){return"`"},H.peek=function(e,t,n){return M(e,n)?"<":"["},$.peek=function(){return"["},Q.peek=function(e,t,n){return n.options.strong||"*"};const U={blockquote:function(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(e,o.current()),C);return i(),s},break:E,code:function(e,t,n,r){const i=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),o=e.value||"",s="`"===i?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(o,F);return e(),t}const a=n.createTracker(r),c=i.repeat(Math.max(l(o,i)+1,3)),u=n.enter("codeFenced");let f=a.move(c);if(e.lang){const t=n.enter(`codeFencedLang${s}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${s}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:"\n",encode:["`"],...a.current()})),t()}return f+=a.move("\n"),o&&(f+=a.move(o+"\n")),f+=a.move(c),u(),f},definition:function(e,t,n,r){const i=L(n),o='"'===i?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const c=n.createTracker(r);let l=c.move("[");return l+=c.move(n.safe(n.associationId(e),{before:l,after:"]",...c.current()})),l+=c.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),l+=c.move("<"),l+=c.move(n.safe(e.url,{before:l,after:">",...c.current()})),l+=c.move(">")):(a=n.enter("destinationRaw"),l+=c.move(n.safe(e.url,{before:l,after:e.title?" ":"\n",...c.current()}))),a(),e.title&&(a=n.enter(`title${o}`),l+=c.move(" "+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),a()),s(),l},emphasis:P,hardBreak:E,heading:function(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(function(e,t){let n=!1;return f(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,d}),Boolean((!e.depth||e.depth<3)&&i(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),i=n.containerPhrasing(e,{...s.current(),before:"\n",after:"\n"});return r(),t(),i+"\n"+(1===o?"=":"-").repeat(i.length-(Math.max(i.lastIndexOf("\r"),i.lastIndexOf("\n"))+1))}const a="#".repeat(o),c=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:"\n",...s.current()});return/^[\t ]/.test(u)&&(u=R(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),c(),u},html:A,image:B,imageReference:O,inlineCode:D,link:H,linkReference:$,list:function(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):_(n);const a=e.ordered?"."===s?")":".":function(e){const t=_(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let c=!(!t||!n.bulletLastUsed)&&s===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==s&&"-"!==s||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(c=!0),j(n)===s&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){c=!0;break}}}}c&&(s=a),n.bulletCurrent=s;const l=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),l},listItem:function(e,t,n,r){const i=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let o=n.bulletCurrent||_(n);t&&"list"===t.type&&t.ordered&&(o=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+o);let s=o.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(s=4*Math.ceil(s/4));const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const c=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,a.current()),function(e,t,n){if(t)return(n?"":" ".repeat(s))+e;return(n?o:o+" ".repeat(s-o.length))+e});return c(),l},paragraph:function(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(e,r);return o(),i(),s},root:function(e,t,n,r){return(e.children.some(function(e){return h(e)})?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:Q,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(j(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};export{m as f,U as h,y as m};
